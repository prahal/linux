/*
 * Hardkernel's Exynos4412 based ODROID-U3 board device tree source
 *
 * Copyright (c) 2014 Marek Szyprowski <m.szyprowski@samsung.com>
 *
 * Device tree source file for Hardkernel's ODROID-U3 board which is based
 * on Samsung's Exynos4412 SoC.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
*/

/dts-v1/;
#include "exynos4412-odroid-common.dtsi"

/ {
	model = "Hardkernel ODROID-U3 board based on Exynos4412";
	compatible = "hardkernel,odroid-u3", "samsung,exynos4412", "samsung,exynos4";

	memory {
		reg = <0x40000000 0x7FF00000>;
	};

	leds {
		compatible = "gpio-leds";
		led1 {
			label = "led1:heart";
			gpios = <&gpc1 0 1>;
			default-state = "on";
			linux,default-trigger = "heartbeat";
		};
	};

	mmc@12550000 {
		samsung,dw-mshc-hwreset-gpio = <&gpk1 2 1>;
	};

	cpus {
		cpu@a00 {
                        operating-points = <
                                2000000 1425000
                                1920000 1400000
                                1800000 1400000
                                1704000 1350000
                                1600000 1350000
                                1500000 1350000
                                1400000 1287500
                                1300000 1250000
                                1200000 1187500
                                1100000 1137500
                                1000000 1087500
                                 900000 1037500
                                 800000 1000000
                                 700000  987500
                                 600000  975000
                                 500000  950000
                                 400000  925000
                                 300000  900000
                                 200000  900000
			>;
                        boost-frequencies = <2000000 1920000 1800000 1704000 1600000 1500000>;
		};
	};
};

&clock {
	samsung,armclk-cells = <10>;
	samsung,armclk-divider-table = <2000000 3 7 0 6 1 2 7 0 7>,
				       <1920000 3 7 0 6 1 2 7 0 7>,
				       <1800000 3 7 0 6 1 2 7 0 7>,
				       <1704000 3 7 0 6 1 2 7 0 7>,
				       <1600000 3 7 0 6 1 2 6 0 7>,
				       <1500000 3 7 0 6 1 2 6 0 7>,
				       <1400000 3 7 0 6 1 2 6 0 6>,
				       <1300000 3 7 0 5 1 2 5 0 6>,
				       <1200000 3 7 0 5 1 2 5 0 5>,
				       <1100000 3 6 0 4 1 2 4 0 5>,
				       <1000000 2 5 0 4 1 1 4 0 4>,
				       < 900000 2 5 0 3 1 1 3 0 4>,
				       < 800000 2 5 0 3 1 1 3 0 3>,
				       < 700000 2 4 0 3 1 1 3 0 3>,
				       < 600000 2 4 0 3 1 1 3 0 2>,
				       < 500000 2 4 0 3 1 1 3 0 2>,
				       < 400000 2 4 0 3 1 1 3 0 1>,
				       < 300000 2 4 0 2 1 1 3 0 1>,
				       < 200000 1 3 0 1 1 1 3 0 0>;
};

&emmc {
	vmmc-supply = <&ldo22_reg>;
};

&usb3503 {
	clock-names = "refclk";
	clocks = <&pmu_system_controller 0>;
	refclk-frequency = <24000000>;
	ext-supply = <&buck8_reg>;
};

&max77686 {
	voltage-regulators {
		ldo22_reg: LDO22 {
			regulator-name = "vddf_emmc_2.85V";
			regulator-min-microvolt = <2850000>;
			regulator-max-microvolt = <2850000>;
			regulator-always-on;
			regulator-boot-on;
		};

		/* On the ODROID U2/U3 this buck regulator supplies the LAN9730 block. */
		buck8_reg: BUCK8 {
			regulator-name = "input_lan9730_3.3V";
			regulator-min-microvolt = <3300000>;
			regulator-max-microvolt = <3300000>;
		};
	};
};

&ehci {
	port@1 {
		status = "okay";
	};
	port@2 {
		status = "okay";
	};
};

&sound {
	compatible = "samsung,odroidu3-audio";
	samsung,model = "Odroid-U3";
	samsung,audio-routing =
		"Headphone Jack", "HPL",
		"Headphone Jack", "HPR",
		"Headphone Jack", "MICBIAS",
		"IN1", "DMIC",
		"IN2", "DMIC",
		"DMIC", "DMICL",
		"DMIC", "DMICR";
};
